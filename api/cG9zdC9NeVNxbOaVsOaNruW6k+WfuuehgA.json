{"title":"MySql数据库基础","date":"2019-06-16T13:33:27.000Z","link":"post/MySql数据库基础","tags":["Sql"],"categories":["MySql","数据库"],"updated":"2019-06-17T15:58:12.893Z","content":"<h2 id=\"MySql数据库基础\">MySql数据库基础<a href=\"post/MySql数据库基础#MySql数据库基础\"></a></h2><h4 id=\"数据库的操作\">数据库的操作<a href=\"post/MySql数据库基础#数据库的操作\"></a></h4><ul>\n<li><p>数据库的创建</p>\n<blockquote>\n<p>create database 数据库的名 character set 字符集 collate 校对规则</p>\n</blockquote>\n</li>\n<li><p>数据库的删除</p>\n<blockquote>\n<p>drop database 数据库名</p>\n</blockquote>\n</li>\n<li><p>数据库的修改</p>\n<blockquote>\n<p>alter database 数据库 character set 字符集(utf8)</p>\n</blockquote>\n</li>\n<li><p>数据库的查询</p>\n<blockquote>\n<p>show databases;<br>show create database 数据库名<br>select database();</p>\n</blockquote>\n</li>\n<li><p>切换数据库</p>\n<blockquote>\n<p>use 数据库名字</p>\n</blockquote>\n</li>\n<li><p>修改数据库用户密码</p>\n<blockquote>\n<p>mysql&gt; set password for 用户名@localhost = password(‘新密码’);  </p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"数据表的操作\">数据表的操作<a href=\"post/MySql数据库基础#数据表的操作\"></a></h4><ul>\n<li>表结构的操作:</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">创建:create table 表名(</span><br><span class=\"line\">    列名 列的类型 列的约束,</span><br><span class=\"line\">    列名 列的类型 列的约束</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<hr>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">列的类型:int,double,float,boolean,char(长度)/varchar</span><br><span class=\"line\">            date : YYYY-MM-DD</span><br><span class=\"line\">            time : hh:mm:ss</span><br><span class=\"line\">            datetime : YYYY-MM-DD hh:mm:ss</span><br><span class=\"line\">            timestamp: YYYY-MM-DD hh:mm:ss</span><br><span class=\"line\">            text : 主要用来存放文本</span><br><span class=\"line\">            blob: 存放的是二进制</span><br><span class=\"line\">列的约束:</span><br><span class=\"line\">            primary key 主键约束</span><br><span class=\"line\">            unique:唯一约束</span><br><span class=\"line\">            not null非空约束</span><br><span class=\"line\">自动增长:auto_increment</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>删除表</p>\n<blockquote>\n<p>drop table 表名</p>\n</blockquote>\n</li>\n<li><p>修改表</p>\n<blockquote>\n<p>alter table 表名(add,modify,change,drop)</p>\n<blockquote>\n<p>添加列(add):alter table 表名 add 列名 列的类型 列的约束<br>修改列(modify):alter table 表名 modify 列名 列的类型 列的约束<br>修改列名(change):alter table 表名 change 列名 新列名 列的类型 列的约束<br>删除列(drop):drop table 表名 drop 列名</p>\n</blockquote>\n<p>rename table 旧表名 to 新表名<br>alter table 表名 character set 字符集</p>\n</blockquote>\n</li>\n<li><p>查询表结构</p>\n<blockquote>\n<p>show table;查询所有表<br>show create table 表名:表的创建语句,表的定义<br>desc 表名:表的结构</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"表中数据的操作\">表中数据的操作<a href=\"post/MySql数据库基础#表中数据的操作\"></a></h4><ul>\n<li>插入<blockquote>\n<p>insert into 表名(列名,列名)values(值1,值2);</p>\n</blockquote>\n</li>\n<li>删除<blockquote>\n<p>delete from 表名 [where 条件]</p>\n</blockquote>\n</li>\n<li>修改<blockquote>\n<p>update 表名 set 列名=’值’,列名=’值’[where条件]</p>\n</blockquote>\n</li>\n<li>查询<blockquote>\n<p>select [distinct] * [列名1,列名2] from 表名 [where 条件]</p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"where条件后面\"><strong><em>where条件后面:</em></strong><a href=\"post/MySql数据库基础#where条件后面\"></a></h5><blockquote>\n<p><strong>关系运算符: &gt;&gt;=&lt;&lt;=!=&lt;&gt;</strong></p>\n<blockquote>\n<p>判断某一列是否为空:is null | is not null<br>in 在某范围内进行比较<br>between…and</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p><strong>逻辑运算符:and or not</strong><br>模糊查询:like</p>\n<blockquote>\n<p>_:代表单个字符<br>%:代表的是多个字符</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p><strong>分组</strong></p>\n<blockquote>\n<p>group by</p>\n</blockquote>\n<p><strong>分组之后条件过滤:having</strong></p>\n<blockquote>\n<p>having</p>\n</blockquote>\n<p><strong>聚合函数</strong></p>\n<blockquote>\n<p>sum(),avg(),count(),max(),min()</p>\n</blockquote>\n<p><strong>排序</strong></p>\n<blockquote>\n<p>order by(asc 升序,desc 降序)</p>\n</blockquote>\n</blockquote>\n<h4 id=\"数据库练习参考\">数据库练习参考<a href=\"post/MySql数据库基础#数据库练习参考\"></a></h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查询语句 ---select</span><br><span class=\"line\">\tcreate table exam(</span><br><span class=\"line\">\t\tid int primary key auto_increment,</span><br><span class=\"line\">\t\tname varchar(20) not null,</span><br><span class=\"line\">\t\tchinese double,</span><br><span class=\"line\">\t\tmath double,</span><br><span class=\"line\">\t\tenglish double</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;关羽&apos;,85,76,70);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;张飞&apos;,70,75,70);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;赵云&apos;,90,65,95);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;刘备&apos;,97,50,50);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;曹操&apos;,90,89,80);</span><br><span class=\"line\">\tinsert into exam values(null,&apos;司马懿&apos;,90,67,65);</span><br><span class=\"line\">\t练习：</span><br><span class=\"line\">\t1、查询表中所有学生的信息。</span><br><span class=\"line\"> \t   select * from exam;</span><br><span class=\"line\">\t2、查询表中所有学生的姓名和对应的英语成绩。</span><br><span class=\"line\">\t   select name,english from exam;</span><br><span class=\"line\">\t3、过滤表中重复数据。</span><br><span class=\"line\">\t   </span><br><span class=\"line\">\t4、在所有学生分数上加10分特长分。</span><br><span class=\"line\"></span><br><span class=\"line\">\t5、统计每个学生的总分。</span><br><span class=\"line\">            select *,chinese+math+english from exam;</span><br><span class=\"line\">\t6、使用别名表示学生分数。</span><br><span class=\"line\">\t   select *,chinese+math+english as 总分 from exam;</span><br><span class=\"line\">\t-----使用where子句</span><br><span class=\"line\">\t7、查询姓名为刘备的学生成绩</span><br><span class=\"line\">\t    select * from exam where name=&apos;刘备&apos;;</span><br><span class=\"line\">\t8、查询英语成绩大于90分的同学</span><br><span class=\"line\">\t   select * from exam where english&gt;90;</span><br><span class=\"line\">\t9、查询总分大于200分的所有同学</span><br><span class=\"line\">\t    select * from exam where chinese+math+english&gt;200;</span><br><span class=\"line\">\t10、查询英语分数在 80－90之间的同学。</span><br><span class=\"line\">             select * from exam where english between 80 and 90;</span><br><span class=\"line\">\t      select * from exam where english&gt;=80 and english&lt;=90;</span><br><span class=\"line\">\t11、查询数学分数为89,75,91的同学。</span><br><span class=\"line\">\t    select * from exam where math=89 or math=75 or math=91;</span><br><span class=\"line\">   \t    select * from exam where math in(89,75,91);</span><br><span class=\"line\">\t12、查询所有姓刘的学生成绩。</span><br><span class=\"line\">\t    select * from exam where name like &apos;刘%&apos;;</span><br><span class=\"line\">\t13、查询所有姓刘两个字的学生成绩。</span><br><span class=\"line\">\t     select * from exam where name like &apos;刘_&apos;;</span><br><span class=\"line\">\t14、查询数学分&gt;80并且语文分&gt;80的同学。</span><br><span class=\"line\">\t    select * from exam where math&gt;80 and chinese&gt;80;</span><br><span class=\"line\">\t15、查询数学分&gt;80 或者 语文分&gt;80的同学。</span><br><span class=\"line\">\t    select * from exam where math&gt;80 or chinese&gt;80;</span><br><span class=\"line\">\t------使用order by  排序</span><br><span class=\"line\">\t16、对数学成绩排序后输出。</span><br><span class=\"line\">\t    select * from exam order by math;</span><br><span class=\"line\">\t17、对总分排序按从高到低的顺序输出</span><br><span class=\"line\">\t     select *,chinese+math+english as 总分 from exam order by 总分 desc;</span><br><span class=\"line\">\t     select *,chinese+math+english as 总分 from exam order by chinese+math+</span><br><span class=\"line\">\t     english desc;</span><br><span class=\"line\">\t18、对姓刘的学生成绩排序输出</span><br><span class=\"line\">\t    select * from exam where name like &apos;刘%&apos; order by math desc;</span><br><span class=\"line\">\t------使用count（函数）</span><br><span class=\"line\">\t19、统计一个班级共有多少学生？</span><br><span class=\"line\">\t    select  count(id) from exam;</span><br><span class=\"line\">\t20、统计数学成绩大于或等于90的学生有多少个？</span><br><span class=\"line\">\t    select  count(math) from exam where math&gt;=90;</span><br><span class=\"line\">\t21、统计总分大于250的人数有多少？</span><br><span class=\"line\">\t    select count(id) from exam where chinese+math+english&gt;250;</span><br><span class=\"line\">\t-------使用sum函数</span><br><span class=\"line\">\t22、统计一个班级数学总成绩？</span><br><span class=\"line\">\t    selcet * from exam;</span><br><span class=\"line\">\t23、统计一个班级语文、英语、数学各科的总成绩</span><br><span class=\"line\">\t    select sum(chinese),sum(math),sum(english) from exam;</span><br><span class=\"line\">\t24、统计一个班级语文、英语、数学的成绩总和 </span><br><span class=\"line\">\t     select sum(chinese)+sum(math)+sum(english) from exam;</span><br><span class=\"line\">\t25、统计一个班级语文成绩平均分</span><br><span class=\"line\">\t     select sum(chinese)/count(id) from exam;</span><br><span class=\"line\">\t--------使用avg函数</span><br><span class=\"line\">\t26、求一个班级数学平均分？</span><br><span class=\"line\">\t     select avg(math) from exam;</span><br><span class=\"line\">\t27、求一个班级总分平均分</span><br><span class=\"line\">\t    select avg(ifnull(chinese,0))+avg(ifnull(math,0))+avg(ifnull(english,0))</span><br><span class=\"line\">\t    from exam;</span><br><span class=\"line\">\t-------使用max，min函数</span><br><span class=\"line\">\t28、求班级最高分和最低分（数值范围在统计中特别有用）</span><br><span class=\"line\">\t    select max(ifnull(chinese,0)+ifnull(math,0)+ifnull(english,0)) from exam;</span><br><span class=\"line\">\t    select min(ifnull(chinese,0)+ifnull(math,0)+ifnull(english,0)) from exam;</span><br><span class=\"line\">\t</span><br><span class=\"line\">        create table orders(</span><br><span class=\"line\">            id int,</span><br><span class=\"line\">            product varchar(20),</span><br><span class=\"line\">            price float</span><br><span class=\"line\">        );</span><br><span class=\"line\"></span><br><span class=\"line\">\tinsert into orders(id,product,price) values(1,&apos;电视&apos;,900);</span><br><span class=\"line\">\tinsert into orders(id,product,price) values(2,&apos;洗衣机&apos;,100);</span><br><span class=\"line\">\tinsert into orders(id,product,price) values(3,&apos;洗衣粉&apos;,90);</span><br><span class=\"line\">\tinsert into orders(id,product,price) values(4,&apos;桔子&apos;,9);</span><br><span class=\"line\">\tinsert into orders(id,product,price) values(5,&apos;洗衣粉&apos;,90);</span><br><span class=\"line\"></span><br><span class=\"line\">\t29、查询购买了几类商品，并且每类总价大于100的商品</span><br><span class=\"line\"></span><br><span class=\"line\">\tselect product,sum(price) from orders where price&gt;100 group by product;</span><br></pre></td></tr></table></figure>","next":{"title":"Linux搭建个人博客","link":"post/Linux搭建个人博客"},"plink":"http://hiasia.club/post/MySql数据库基础/","reward":true,"copyright":{"custom":"<del>不许</del>转载😡！！！"}}